<!-- Page Heading  -->
<div class="d-sm-flex align-items-center justify-content-between mb-4">
  <h1 class="h3 mb-0 text-gray-800">Relación de Usuarios - Trámites</h1>
  <!-- <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-download fa-sm text-white-50"></i>Nuevo Usuario</a> -->
</div>

<!-- Begin Page Content -->
<div class="container-fluid">
  <div ng-if="req_error"class="alert alert-{{kind}}" role="alert">
    {{message}}
  </div>
  <!-- DataTales Example -->
  <div class="card shadow mb-4">
    <div class="card-header py-3">
      <h6 class="m-0 font-weight-bold text-primary">Relación de Usuarios - Trámites</h6>
    </div>
    <div class="card-body">
      <div class="row">
        <!-- tramites -->
        <div class="col-6">
          <button type="button" class="btn btn-outline-info btn-sm btn-block" ng-click="res_tra()">Restaurar</button>
          <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Gestión</th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>Nombre</th>
                  <th>Gestión</th>
                </tr>
              </tfoot>
              <tbody>
                <tr ng-repeat = "item in tramites_list | startFrom:currentPage_tra*pageSize_tra | limitTo:pageSize_tra">
                  <td>{{item.tramite}} </td>
                  <td>
                    <button ng-if="item.btn_dis != false" type="button" class="btn btn-outline-success" ng-click="set_data(item,$index)">
                      <svg class="bi bi-file-earmark-plus" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 1H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h5v-1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h5v2.5A1.5 1.5 0 0 0 10.5 6H13v2h1V6L9 1z"/>
                        <path fill-rule="evenodd" d="M13.5 10a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"/>
                        <path fill-rule="evenodd" d="M13 12.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0v-2z"/>
                      </svg>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- Paginado de tabla -->
            <nav aria-label="Page navigation example">
              <ul class="pagination">
                <li class="page-item {{currentPage_tra === 0 ? 'disabled' : ''}}">
                  <a class="page-link" ng-disabled="currentPage == 0" ng-click="cambio_tra(currentPage_tra-1)" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
                <li class="page-item {{num.numero === currentPage_tra ? 'active' : ''}}" ng-repeat="num in pageData_tra"><a class="page-link" ng-click="cambio_tra(num.numero)">{{num.numero+1}}</a></li>
                <li class="page-item {{currentPage_tra === pages_tra-1 ? 'disabled' : ''}}">
                  <a class="page-link" ng-disabled="currentPage_tra == pages_tra-1" ng-click="cambio_tra(currentPage_tra+1)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- usuarios -->
        <div class="col-6">
          <button ng-if="btn_rest_req" type="button" class="btn btn-outline-info btn-sm btn-block" ng-click="res_usrs()">Restaurar</button>
          <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                  <td ng-if="btn_all_req">
                    <button type="button" class="btn btn-outline-success" ng-click="all_req()">
                      <svg class="bi bi-check2-all" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M12.354 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                        <path d="M6.25 8.043l-.896-.897a.5.5 0 1 0-.708.708l.897.896.707-.707zm1 2.414l.896.897a.5.5 0 0 0 .708 0l7-7a.5.5 0 0 0-.708-.708L8.5 10.293l-.543-.543-.707.707z"/>
                      </svg>
                    </button>
                  </td>
                  <td ng-if="btn_inv_req">
                    <button type="button" class="btn btn-outline-success" ng-click="inv_req()">
                      <svg class="bi bi-reply-all" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M8.002 5.013a.144.144 0 0 0-.202.134V6.3a.5.5 0 0 1-.5.5c-.667 0-2.013.005-3.3.822-.984.624-1.99 1.76-2.595 3.876C2.425 10.515 3.59 9.982 4.61 9.7a8.741 8.741 0 0 1 1.921-.306 7.403 7.403 0 0 1 .798.008h.013l.005.001h.001L7.3 9.9l.05-.498a.5.5 0 0 1 .45.498v1.153c0 .108.11.176.202.134l3.984-2.933a.494.494 0 0 1 .042-.028.147.147 0 0 0 0-.252.494.494 0 0 1-.042-.028L8.002 5.013zM6.8 10.386a7.745 7.745 0 0 0-1.923.277c-1.326.368-2.896 1.201-3.94 3.08a.5.5 0 0 1-.933-.305c.464-3.71 1.886-5.662 3.46-6.66 1.245-.79 2.527-.942 3.336-.971v-.66a1.144 1.144 0 0 1 1.767-.96l3.994 2.94a1.147 1.147 0 0 1 0 1.946l-3.994 2.94a1.144 1.144 0 0 1-1.767-.96v-.667z"/>
                        <path fill-rule="evenodd" d="M10.868 4.293a.5.5 0 0 1 .7-.106l3.993 2.94a1.147 1.147 0 0 1 0 1.946l-3.994 2.94a.5.5 0 0 1-.593-.805l4.012-2.954a.493.493 0 0 1 .042-.028.147.147 0 0 0 0-.252.496.496 0 0 1-.042-.028l-4.012-2.954a.5.5 0 0 1-.106-.699z"/>
                      </svg>
                    </button>
                  </td>
                  <td ng-if="btn_save">
                    <button type="button" class="btn btn-outline-success" ng-click="save_rel()">
                      <svg class="bi bi-file-earmark-plus" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 1H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h5v-1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h5v2.5A1.5 1.5 0 0 0 10.5 6H13v2h1V6L9 1z"/>
                        <path fill-rule="evenodd" d="M13.5 10a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"/>
                        <path fill-rule="evenodd" d="M13 12.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0v-2z"/>
                      </svg>                 
                    </button>
                  </td>
                </tr>
                <tr>
                  <th>Nombre</th>
                  <th>Departamento</th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>Nombre</th>
                  <th>Departamento</th>
                </tr>
              </tfoot>
              <tbody>
                <tr ng-repeat = "item in users_list | filter : { tipo_usuario: 'id_5ebafe3b361083.91981512', estado : '1'}">
                  <td>
                    <div class="form-check" ng-if="item.disabled == true">
                      <input class="form-check-input" type="checkbox" value="" id="defaultCheck2" disabled>
                      <label class="form-check-label" for="defaultCheck2">
                        {{item.nombre}}
                      </label>
                    </div>
                    <div class="form-check" ng-if="item.disabled == false">
                      <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" ng-model="item.checked" ng-click="mod_detalles(item)">
                      <label class="form-check-label" for="defaultCheck1">
                       {{item.nombre}}
                      </label>
                    </div>
                  </td>
                  <td>{{item.departamento}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- detalles -->
        <div class="col-12">
          <h6>{{detalles.tramite}}</h6>
        </div>
        <div ng-repeat="item in detalles" class="col-4">
          <b>{{item.user}}</b><br>
          <p>
            <label>
              <!-- descripcion del check para relacion -->
              <!-- disable no checked-->
              <input ng-if="!item.update" type="checkbox" class="filled-in" ng-model="item.update"/>
              <!-- able no checked -->
              <input type="checkbox" class="filled-in" ng-if="item.update" ng-model="item.update"/>
              <span>
                Editar
              </span>
            </label>
          </p>
          <p>
            <label>
              <!-- descripcion del check para relacion -->
              <!-- disable no checked-->
              <input ng-if="!item.delete" type="checkbox" class="filled-in" ng-model="item.delete"/>
              <!-- able no checked -->
              <input type="checkbox" class="filled-in" ng-if="item.delete" ng-model="item.delete"/>
              <span>
                Eliminar
              </span>
            </label>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Page level plugins -->
<!-- <script src="../vendor/datatables/jquery.dataTables.min.js"></script>
<script src="../vendor/datatables/dataTables.bootstrap4.min.js"></script> -->

<!-- Page level custom scripts -->
<!-- <script src="../js/demo/datatables-demo.js"></script> -->
